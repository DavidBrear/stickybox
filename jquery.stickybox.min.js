(function(e){function t(t,r){this.el=e(t);this.options=e.extend({stickyClass:"",fixedHeaderHeight:0},r);this.position=this.el.css("position");this.off_left=this.el.offset().left;this.off_top=undefined;this.old_left=this.el.css("left");this.placeHolder=n(this.el);if(!e.browser.msie){this.margins=this.el.css("margin")}this.old_width=this.el.width();this.old_z_index=this.el.css("z-index");this.updateTop=function(){if(this.off_top===undefined){this.off_top=this.el.offset().top-this.options.fixedHeaderHeight}if(e(window).scrollTop()>this.off_top){this.el.css("width",this.old_width);this.el.css("top","-40px");this.el.css("left",this.off_left);this.el.css("position","fixed");this.el.css("margin","0");this.el.css("z-index",1e3);this.el.addClass(this.options.stickyClass);this.placeHolder.show()}else{this.el.removeClass(this.options.stickyClass);this.el.css("left",this.old_left);this.el.css("margin",this.margins);this.el.css("position",this.position);this.el.css("z-index",this.old_z_index);this.placeHolder.hide()}}}function n(e){$place_holder=e.clone(false);$place_holder.html("abcd");$place_holder.css("width",e.width());$place_holder.css("height",e.height());$place_holder.css("visibility","hidden");$place_holder.hide();e.after($place_holder);return $place_holder}e.fn.stickybox=function(n){e(this).each(function(r,i){var s=new t(i,n);e(window).scroll(function(e){s.updateTop()})})}})(jQuery)